<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:宋体;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:黑体;
	panose-1:2 1 6 9 6 1 1 1 1 1;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Segoe UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:anchorjs-icons;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:"\@宋体";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"\@黑体";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri",sans-serif;}
h1
	{margin-top:17.0pt;
	margin-right:0cm;
	margin-bottom:16.5pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:240%;
	page-break-after:avoid;
	font-size:22.0pt;
	font-family:"Calibri",sans-serif;
	font-weight:bold;}
h2
	{margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:172%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Arial",sans-serif;
	font-weight:bold;}
h3
	{margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:172%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri",sans-serif;
	font-weight:bold;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:21.0pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.0pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri",sans-serif;}
p
	{margin-right:0cm;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;}
pre
	{mso-style-link:"HTML 预设格式 字符";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:宋体;}
span.HTML
	{mso-style-name:"HTML 预设格式 字符";
	mso-style-link:"HTML 预设格式";
	font-family:宋体;}
.MsoChpDefault
	{font-size:10.0pt;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body lang=ZH-CN link=blue vlink="#954F72" style='word-wrap:break-word;
text-justify-trim:punctuation'>

<div class=WordSection1 style='layout-grid:15.6pt'>

<h1 align=center style='text-align:center'><a name="_Toc5660"><span lang=EN-US
style='font-family:"Arial",sans-serif'>MYBATIS</span></a></h1>

<p class=MsoNormal><span lang=EN-US style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-family:宋体'>目录</span></p>

<p class=MsoToc1><span lang=EN-US><a href="#_Toc5660"><span style='font-family:
"Arial",sans-serif;color:windowtext;text-decoration:none'>MYBATIS</span><span
style='color:windowtext;text-decoration:none'>......................................................................................................................... </span><span style='color:windowtext;text-decoration:none'>1</span></a></span></p>

<p class=MsoToc1><span lang=EN-US><a href="#_Toc22500"><span style='font-family:
"Arial",sans-serif;color:windowtext;text-decoration:none'>1. </span><span
lang=EN-US style='font-family:宋体;color:windowtext;text-decoration:none'><span
lang=EN-US>历史</span></span><span style='color:windowtext;text-decoration:none'>............................................................................................................................ </span><span style='color:windowtext;text-decoration:none'>1</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc10967"><span style='font-family:
宋体;color:windowtext;text-decoration:none'>1.1. </span><span style='color:black;
background:white;text-decoration:none'>Apache</span><span lang=EN-US
style='font-family:宋体;color:black;background:white;text-decoration:none'><span
lang=EN-US>许可证</span></span><span style='color:windowtext;text-decoration:none'>.................................................................................................. </span><span style='color:windowtext;text-decoration:none'>1</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc19143"><span style='font-family:
宋体;color:black;background:white;text-decoration:none'>1.2. </span><span
lang=EN-US style='font-family:宋体;color:black;background:white;text-decoration:
none'><span lang=EN-US>发展历史</span></span><span style='color:windowtext;
text-decoration:none'>.......................................................................................................... </span><span style='color:windowtext;text-decoration:none'>2</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc15241"><span style='font-family:
宋体;color:black;background:white;text-decoration:none'>1.3. </span><span
lang=EN-US style='font-family:宋体;color:black;background:white;text-decoration:
none'><span lang=EN-US>标准版本</span></span><span style='color:windowtext;
text-decoration:none'>.......................................................................................................... </span><span style='color:windowtext;text-decoration:none'>2</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc26301"><span style='font-family:
宋体;color:black;background:white;text-decoration:none'>1.4. </span><span
style='color:black;background:white;text-decoration:none'>Apache </span><span
lang=EN-US style='font-family:宋体;color:black;background:white;text-decoration:
none'><span lang=EN-US>软件基金会</span></span><span style='color:windowtext;
text-decoration:none'>.......................................................................................... </span><span style='color:windowtext;text-decoration:none'>3</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc24356"><span style='font-family:
宋体;color:black;background:white;text-decoration:none'>1.5. </span><span
lang=EN-US style='font-family:宋体;color:black;background:white;text-decoration:
none'><span lang=EN-US>进入</span></span><span style='color:black;background:
white;text-decoration:none'>MyBatis</span><span style='color:windowtext;
text-decoration:none'>..................................................................................................... </span><span style='color:windowtext;text-decoration:none'>3</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc28824"><span style='font-family:
宋体;color:black;background:white;text-decoration:none'>1.6. </span><span
lang=EN-US style='font-family:宋体;color:black;background:white;text-decoration:
none'><span lang=EN-US>名字</span></span><span style='color:windowtext;
text-decoration:none'>................................................................................................................. </span><span style='color:windowtext;text-decoration:none'>3</span></a></span></p>

<p class=MsoToc1><span lang=EN-US><a href="#_Toc21041"><span style='font-family:
"Arial",sans-serif;color:windowtext;text-decoration:none'>2. </span><span
lang=EN-US style='font-family:宋体;color:windowtext;text-decoration:none'><span
lang=EN-US>核心思想</span></span><span style='color:windowtext;text-decoration:
none'>..................................................................................................................... </span><span style='color:windowtext;text-decoration:none'>4</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc6583"><span style='font-family:
宋体;color:windowtext;text-decoration:none'>2.1. </span><span lang=EN-US
style='font-family:宋体;color:windowtext;text-decoration:none'><span lang=EN-US>介绍</span></span><span
style='color:windowtext;text-decoration:none'>................................................................................................................. </span><span style='color:windowtext;text-decoration:none'>4</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc13225"><span style='font-family:
宋体;color:windowtext;text-decoration:none'>2.2. </span><span style='color:windowtext;
text-decoration:none'>ORM</span><span style='color:windowtext;text-decoration:
none'>................................................................................................................. </span><span style='color:windowtext;text-decoration:none'>4</span></a></span></p>

<p class=MsoToc1><span lang=EN-US><a href="#_Toc13303"><span style='font-family:
"Arial",sans-serif;color:windowtext;text-decoration:none'>3. </span><span
lang=EN-US style='font-family:宋体;color:windowtext;text-decoration:none'><span
lang=EN-US>逻辑结构</span></span><span style='color:windowtext;text-decoration:
none'>..................................................................................................................... </span><span style='color:windowtext;text-decoration:none'>5</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc10642"><span style='font-family:
宋体;color:windowtext;text-decoration:none'>3.1. </span><span lang=EN-US
style='font-family:宋体;color:windowtext;text-decoration:none'><span lang=EN-US>整体架构</span></span><span
style='color:windowtext;text-decoration:none'>.......................................................................................................... </span><span style='color:windowtext;text-decoration:none'>5</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc606"><span style='font-family:
宋体;color:windowtext;text-decoration:none'>3.2. </span><span lang=EN-US
style='font-family:宋体;color:windowtext;text-decoration:none'><span lang=EN-US>接口层</span></span><span
style='color:windowtext;text-decoration:none'>.............................................................................................................. </span><span style='color:windowtext;text-decoration:none'>6</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc13196"><span style='font-family:
宋体;color:windowtext;text-decoration:none'>3.3. </span><span lang=EN-US
style='font-family:宋体;color:windowtext;text-decoration:none'><span lang=EN-US>处理层</span></span><span
style='color:windowtext;text-decoration:none'>.............................................................................................................. </span><span style='color:windowtext;text-decoration:none'>6</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc29693"><span style='font-family:
宋体;color:windowtext;text-decoration:none'>3.4. </span><span lang=EN-US
style='font-family:宋体;color:windowtext;text-decoration:none'><span lang=EN-US>支持层</span></span><span
style='color:windowtext;text-decoration:none'>.............................................................................................................. </span><span style='color:windowtext;text-decoration:none'>7</span></a></span></p>

<p class=MsoToc1><span lang=EN-US><a href="#_Toc25260"><span style='font-family:
"Arial",sans-serif;color:windowtext;text-decoration:none'>4. </span><span
lang=EN-US style='font-family:宋体;color:windowtext;text-decoration:none'><span
lang=EN-US>运行方式</span></span><span style='color:windowtext;text-decoration:
none'>..................................................................................................................... </span><span style='color:windowtext;text-decoration:none'>8</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc17098"><span style='font-family:
宋体;color:windowtext;text-decoration:none'>4.1. </span><span lang=EN-US
style='font-family:宋体;color:windowtext;text-decoration:none'><span lang=EN-US>执行流程</span></span><span
style='color:windowtext;text-decoration:none'>-SqlSession&nbsp;</span><span
style='color:windowtext;text-decoration:none'>......................................................................................... </span><span style='color:windowtext;text-decoration:none'>8</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc10589"><span style='font-family:
宋体;color:windowtext;text-decoration:none'>4.2. </span><span lang=EN-US
style='font-family:宋体;color:windowtext;text-decoration:none'><span lang=EN-US>映射</span></span><span
style='color:windowtext;text-decoration:none'>-MapperProxy</span><span
style='color:windowtext;text-decoration:none'>............................................................................................. </span><span style='color:windowtext;text-decoration:none'>9</span></a></span></p>

<p class=MsoToc3><span lang=EN-US><a href="#_Toc32401"><span style='font-family:
宋体;color:windowtext;text-decoration:none'>4.2.1. </span><span style='color:
windowtext;text-decoration:none'>Sql</span><span lang=EN-US style='font-family:
宋体;color:windowtext;text-decoration:none'><span lang=EN-US>映射</span></span><span
style='color:windowtext;text-decoration:none'>-StatementHandler/PrepareStatementHandler</span><span
style='color:windowtext;text-decoration:none'>................................ </span><span style='color:windowtext;text-decoration:none'>9</span></a></span></p>

<p class=MsoToc3><span lang=EN-US><a href="#_Toc19230"><span style='font-family:
宋体;color:windowtext;text-decoration:none'>4.2.2. </span><span style='color:
windowtext;text-decoration:none'>Parameter</span><span lang=EN-US
style='font-family:宋体;color:windowtext;text-decoration:none'><span lang=EN-US>映射</span></span><span
style='color:windowtext;text-decoration:none'>-ParameterHandler</span><span
style='color:windowtext;text-decoration:none'>............................................................ </span><span style='color:windowtext;text-decoration:none'>9</span></a></span></p>

<p class=MsoToc3><span lang=EN-US><a href="#_Toc3116"><span style='font-family:
宋体;color:windowtext;text-decoration:none'>4.2.3. </span><span style='color:
windowtext;text-decoration:none'>Result/method</span><span lang=EN-US
style='font-family:宋体;color:windowtext;text-decoration:none'><span lang=EN-US>映射</span></span><span
style='color:windowtext;text-decoration:none'>-ResultHandler&nbsp;</span><span
style='color:windowtext;text-decoration:none'>......................................................... </span><span style='color:windowtext;text-decoration:none'>10</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc29524"><span style='font-family:
宋体;color:windowtext;text-decoration:none'>4.3. </span><span lang=EN-US
style='font-family:宋体;color:windowtext;text-decoration:none'><span lang=EN-US>缓存</span></span><span
style='color:windowtext;text-decoration:none'>............................................................................................................... </span><span style='color:windowtext;text-decoration:none'>11</span></a></span></p>

<p class=MsoToc3><span lang=EN-US><a href="#_Toc9111"><span style='font-family:
宋体;color:windowtext;text-decoration:none'>4.3.1. </span><span lang=EN-US
style='font-family:宋体;color:windowtext;text-decoration:none'><span lang=EN-US>使用自定义缓存</span></span><span
style='color:windowtext;text-decoration:none'>................................................................................... </span><span style='color:windowtext;text-decoration:none'>12</span></a></span></p>

<p class=MsoToc3><span lang=EN-US><a href="#_Toc29580"><span style='font-family:
宋体;color:windowtext;text-decoration:none'>4.3.2. </span><span lang=EN-US
style='font-family:宋体;color:windowtext;text-decoration:none'><span lang=EN-US>缓存引用</span></span><span
style='color:windowtext;text-decoration:none'>.............................................................................................. </span><span style='color:windowtext;text-decoration:none'>14</span></a></span></p>

<p class=MsoToc1><span lang=EN-US><a href="#_Toc27558"><span style='font-family:
"Arial",sans-serif;color:windowtext;text-decoration:none'>5. </span><span
lang=EN-US style='font-family:宋体;color:windowtext;text-decoration:none'><span
lang=EN-US>参考文献</span></span><span style='color:windowtext;text-decoration:
none'>................................................................................................................... </span><span style='color:windowtext;text-decoration:none'>14</span></a></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<h1 style='margin-left:0cm;text-indent:0cm'><a name="_Toc5461"></a><a
name="_Toc22500"><span lang=EN-US style='font-family:"Arial",sans-serif'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-family:宋体'>历史</span></a></h1>

<h2 style='margin-left:1.0cm;text-indent:-1.0cm'><a name="_Toc10967"><span
lang=EN-US style='font-family:宋体;color:#222222'>1.1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span lang=EN-US style='color:#222222;background:white'>Apache</span></a><span
style='font-family:黑体;color:#222222;background:white'>许可证</span></h2>

<p class=MsoNormal align=left style='text-align:left;background:white'><span
lang=EN-US style='font-size:7.5pt;font-family:"Arial",sans-serif;color:#222222'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>MyBatis
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>源代码和文档在</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
Apache License 2.0 </span><span style='font-size:12.0pt;line-height:150%;
font-family:宋体'>下分发。本产品包括由</span><span lang=EN-US style='font-size:12.0pt;
line-height:150%;font-family:"Arial",sans-serif'> The Apache Software
Foundation </span><span style='font-size:12.0pt;line-height:150%;font-family:
宋体'>开发的软件。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<h2 style='margin-left:1.0cm;text-indent:-1.0cm'><a name="_Toc19143"><span
lang=EN-US style='font-family:宋体;color:#222222'>1.2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:黑体;color:#222222;background:white'>发展历史</span></a></h2>

<p class=MsoNormal align=left style='text-align:left;background:white'><span
lang=EN-US style='font-size:7.5pt;font-family:"Arial",sans-serif;color:#222222'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>2001
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>年，</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Clinton
Begin </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>启动了一个名为</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
iBATIS </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>的项目。最初的重点是加密软件解决方案的开发。</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>iBATIS
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>发布的第一个产品是</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
Secrets</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>，这是一个类似于</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
PGP </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>的个人数据加密和签名工具。</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Secrets
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>完全用</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
Java </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>编写，并在开源许可下发布。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>在发布</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
Secrets for Java </span><span style='font-size:12.0pt;line-height:150%;
font-family:宋体'>后不久，</span><span lang=EN-US style='font-size:12.0pt;line-height:
150%;font-family:"Arial",sans-serif'>iBATIS </span><span style='font-size:12.0pt;
line-height:150%;font-family:宋体'>项目出现了转机，开始专注于</span><span lang=EN-US
style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'> Web </span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>和其他互联网相关技术。在接下来的一年里，开发了一些有趣的软件，包括</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
Axle Web </span><span style='font-size:12.0pt;line-height:150%;font-family:
宋体'>框架，它是</span><span lang=EN-US style='font-size:12.0pt;line-height:150%;
font-family:"Arial",sans-serif'> JSP </span><span style='font-size:12.0pt;
line-height:150%;font-family:宋体'>的替代品。</span><span lang=EN-US style='font-size:
12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Lookout </span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>电子邮件客户端在被搁置之前也完成了大约</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
90%</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>，因为更多有趣的挑战即将到来</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>......</span></p>

<p class=MsoNormal align=left style='text-align:left;background:white'><span
lang=EN-US style='font-size:7.5pt;font-family:"Arial",sans-serif;color:#222222'>&nbsp;</span></p>

<h2 style='margin-left:1.0cm;text-indent:-1.0cm'><a name="_Toc15241"><span
lang=EN-US style='font-family:宋体;color:#222222'>1.3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:黑体;color:#222222;background:white'>标准版本</span></a></h2>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>2002
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>年初，</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Microsoft
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>发表了一篇论文，声称</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
.Net </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>比</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
J2EE </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>快</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
10 </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>倍，效率高</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
4 </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>倍。意识到事实并非如此，克林顿迅速做出回应，并于</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
2002 </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>年</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
7 </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>月</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
1 </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>日发布了</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
iBATIS JPetStore 1.0</span><span style='font-size:12.0pt;line-height:150%;
font-family:宋体'>。基于相同的</span><span lang=EN-US style='font-size:12.0pt;
line-height:150%;font-family:"Arial",sans-serif'> Pet Store </span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>要求，</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>JPetStore
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>证明</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
Java </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>不仅可以比</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
.Net </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>更高效，而且还可以实现比</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
Microsoft </span><span style='font-size:12.0pt;line-height:150%;font-family:
宋体'>实施中使用的更好的体系结构。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>JPetStore
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>使用了一个有趣的持久层，该层很快引起了开源社区的注意。在发布</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
JPetStore </span><span style='font-size:12.0pt;line-height:150%;font-family:
宋体'>后不久，对</span><span lang=EN-US style='font-size:12.0pt;line-height:150%;
font-family:"Arial",sans-serif'> SQL </span><span style='font-size:12.0pt;
line-height:150%;font-family:宋体'>映射和</span><span lang=EN-US style='font-size:
12.0pt;line-height:150%;font-family:"Arial",sans-serif'> DAO </span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>框架的问题和请求催生了这个项目，这个项目后来被称为</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
iBATIS </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>数据库层。</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>iBATIS
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>数据库层包括两个封装在一起的框架：</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>SQL
Maps </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>和</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
DAO</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>从那时起，</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>iBATIS
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>项目主要关注称为</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
SQL </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>映射和数据访问对象</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
(DAO) </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>的持久层框架。</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>JPetStore
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>作为这些框架典型用法的官方示例继续存在。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'><br>
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>该项目主要由</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
Clinton Begin</span><span style='font-size:12.0pt;line-height:150%;font-family:
宋体'>、</span><span lang=EN-US style='font-size:12.0pt;line-height:150%;
font-family:"Arial",sans-serif'>Larry Meadors </span><span style='font-size:
12.0pt;line-height:150%;font-family:宋体'>和</span><span lang=EN-US
style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
Brandon Goodin </span><span style='font-size:12.0pt;line-height:150%;
font-family:宋体'>维护。</span></p>

<p class=MsoNormal align=left style='text-align:left;background:white'><span
lang=EN-US style='font-size:7.5pt;font-family:"Arial",sans-serif;color:#222222'>&nbsp;</span></p>

<h2 style='margin-left:1.0cm;text-indent:-1.0cm'><a name="_Toc26301"><span
lang=EN-US style='font-family:宋体;color:#222222'>1.4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span lang=EN-US style='color:#222222;background:white'>Apache </span></a><span
style='font-family:黑体;color:#222222;background:white'>软件基金会</span></h2>

<p class=MsoNormal align=left style='text-align:left;background:white'><span
lang=EN-US style='font-size:7.5pt;font-family:"Arial",sans-serif;color:#222222'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>2004
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>年，克林顿将</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
iBATIS </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>的名称和代码都捐赠给了</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
Apache </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>软件基金会。在那里，它变成了</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
Apache iBATIS</span><span style='font-size:12.0pt;line-height:150%;font-family:
宋体'>，</span><span lang=EN-US style='font-size:12.0pt;line-height:150%;
font-family:"Arial",sans-serif'>ASF </span><span style='font-size:12.0pt;
line-height:150%;font-family:宋体'>作为</span><span style='font-size:12.0pt;
line-height:150%;font-family:"Arial",sans-serif'> <span lang=EN-US>iBATIS </span></span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>的大本营服务了</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
6 </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>年。人们来来去去，但一些新名字被添加到常规项目维护者的名单中，包括</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
Nathan Maves </span><span style='font-size:12.0pt;line-height:150%;font-family:
宋体'>和</span><span lang=EN-US style='font-size:12.0pt;line-height:150%;
font-family:"Arial",sans-serif'> Jeff Butler</span><span style='font-size:12.0pt;
line-height:150%;font-family:宋体'>。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>六年来，开源软件的世界发生了很多变化。从开发实践、基础设施、许可甚至数据库技术，一切都发生了巨大变化。</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>2010
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>年，核心开发团队认为这些开发值得探索，并且</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
iBATIS </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>将从一些重大变化中受益。这是一个严肃的考虑，此举意味着将</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
iBATIS </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>名称抛在脑后。</span></p>

<p class=MsoNormal align=left style='text-align:left;background:white'><span
lang=EN-US style='font-size:7.5pt;font-family:"Arial",sans-serif;color:#222222'>&nbsp;</span></p>

<h2 style='margin-left:1.0cm;text-indent:-1.0cm'><a name="_Toc24356"><span
lang=EN-US style='font-family:宋体;color:#222222'>1.5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:黑体;color:#222222;background:white'>进入</span></a><span
lang=EN-US style='color:#222222;background:white'>MyBatis</span></h2>

<p class=MsoNormal align=left style='text-align:left;background:white'><span
lang=EN-US style='font-size:7.5pt;font-family:"Arial",sans-serif;color:#222222'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>最初的</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
iBATIS </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>团队很高兴为您呈现世界上最流行的面向对象软件开发的基于</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
SQL </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>的数据映射解决方案的新名称。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>新项目受益于改进的开发实践、自动化、更简单的社区参与和统一的基础设施。这是未来的发射台，我们希望更频繁地发布，鼓励贡献并为项目确定明确的新方向。</span></p>

<p class=MsoNormal align=left style='text-align:left;background:white'><span
lang=EN-US style='font-size:7.5pt;font-family:"Arial",sans-serif;color:#222222'>&nbsp;</span></p>

<h2 style='margin-left:1.0cm;text-indent:-1.0cm'><a name="_Toc28824"><span
lang=EN-US style='font-family:宋体;color:#222222'>1.6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:黑体;color:#222222;background:white'>名字</span></a></h2>

<p class=MsoNormal align=left style='text-align:left;background:white'><span
lang=EN-US style='font-size:7.5pt;font-family:"Arial",sans-serif;color:#222222'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>想出一个新名字并不容易。旧名称源于密码学和安全性（源自</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>“abatis”</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>）。经过一些研究，我们发现</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>“batis”</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>是一种可爱的小鸟。那怎么可能不是好事呢？</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>:-)</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>。</span></p>

<h1 style='margin-left:0cm;text-indent:0cm'><a name="_Toc21041"><span
lang=EN-US style='font-family:"Arial",sans-serif'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体'>核心思想</span></a></h1>

<h2 style='margin-left:1.0cm;text-indent:-1.0cm'><a name="_Toc6583"><span
lang=EN-US style='font-family:宋体'>2.1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:黑体'>介绍</span></a></h2>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>MyBatis
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>是一流的持久性框架，支持自定义</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
SQL</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>、存储过程和高级映射。</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>MyBatis
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>消除了几乎所有的</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
JDBC </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>代码和手动设置参数以及检索结果。</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>MyBatis
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>可以使用简单的</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
XML </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>或注解来配置和映射原语、映射接口和</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
Java POJO</span><span style='font-size:12.0pt;line-height:150%;font-family:
宋体'>（普通旧</span><span lang=EN-US style='font-size:12.0pt;line-height:150%;
font-family:"Arial",sans-serif'> Java </span><span style='font-size:12.0pt;
line-height:150%;font-family:宋体'>对象）到数据库记录。。</span></p>

<h2 style='margin-left:1.0cm;text-indent:-1.0cm'><a name="_Toc13225"><span
lang=EN-US style='font-family:宋体'>2.2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span lang=EN-US>ORM</span></a></h2>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>对象关系映射（</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Object
Relational Mapping</span><span style='font-size:12.0pt;line-height:150%;
font-family:宋体'>，简称</span><span lang=EN-US style='font-size:12.0pt;line-height:
150%;font-family:"Arial",sans-serif'>ORM</span><span style='font-size:12.0pt;
line-height:150%;font-family:宋体'>，或</span><span lang=EN-US style='font-size:
12.0pt;line-height:150%;font-family:"Arial",sans-serif'>O/RM</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>，或</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>O/R
mapping</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>），是一种程序技术，用于实现面向对象编程语言里不同类型系统的数据之间的转换。从效果上说，它其实是创建了一个可在编程语言里使用的“虚拟对象数据库”。</span><span
style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'> </span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>       
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>广义上，</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>ORM</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>指的是面向对象的对象模型和关系型数据库的数据结构之间的相互转换。</span><span
style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'> </span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>狭义上，</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>ORM</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>可以被认为是，基于关系型数据库的数据存储，实现一个虚拟的面向对象的数据访问接口。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>       
O</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>，</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>R</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>，</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>M</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>的定义</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>       
O(</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>对象模型</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>)</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>：</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>       
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>实体对象，即我们在程序中根据数据库表结构建立的一个个实体</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Entity</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>       
R(</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>关系型数据库的数据结构</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>)</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>：</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>       
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>即我们建立的数据库表。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>       
M(</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>映射</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>)</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>：</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>       
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>从</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>R</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>（数据库）到</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>O</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>（对象模型）的映射，可通过</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>XML</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>文件映射。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>为什么使用</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>ORM</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>提高开发效率：</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>ORM</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>框架自动实现</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Entity</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>实体的属性与关系型数据库字段的映射。</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>CRUD</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>的工作则可以交给</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>ORM</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>来自动生成代码方式实现。隐藏了数据访问细节，“封闭”的通用数据库交互，他使得我们的通用数据库交互变得简单易行，并且完全不用考虑</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>SQL</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>语句。大大提高我们开发效率，</span><span
style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'> </span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>这样一来也减少我们维护一个复杂</span><span
style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'> </span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>缺乏灵活性数据访问层的成本。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>ORM</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>作为是一种思想</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>帮助我们开发人员跟踪实体的变化</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>,</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>并将实体的变化翻译成</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>sql</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>脚本</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>,</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>执行到数据库中去</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>,</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>也就是将实体的变化映射到了表的变化。这样会给我们带来非常大的便利。但有得必有失，便利的同时也无可避免的带来了一些其他的问题：比如性能降低，复杂的查询</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>ORM</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>仍然力不从心等。</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<h1 style='margin-left:0cm;text-indent:0cm'><a name="_Toc13303"><span
lang=EN-US style='font-family:"Arial",sans-serif'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体'>逻辑结构</span></a></h1>

<h2 style='margin-left:1.0cm;text-indent:-1.0cm'><a name="_Toc10642"><span
lang=EN-US style='font-family:宋体'>3.1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:黑体'>整体架构</span></a></h2>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Mybatis</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>整体架构如下图：</span></p>

<p style='background:white'><span lang=EN-US style='font-size:9.5pt;font-family:
"Segoe UI",sans-serif;color:#212529;background:white'><img width=622
height=430 id="图片 2" src="mybatis.files/image001.gif" alt="IMG_256"></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<h2 style='margin-left:1.0cm;text-indent:-1.0cm'><a name="_Toc606"><span
lang=EN-US style='font-family:宋体'>3.2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:黑体'>接口层</span></a></h2>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>SqlSession</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>接口层定义了暴露给应用程序调用的</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>API</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>，接口层在收到请求时会调用核心处理层的相关模块完成具体的数据库操作。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:1.0cm;text-indent:-1.0cm'><a name="_Toc13196"><span
lang=EN-US style='font-family:宋体'>3.3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:黑体'>处理层</span></a></h2>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>配置解析：</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Mybatis</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>初始化时会加载配置文件、映射文件和</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Mapper</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>接口的注解信息，解析完毕后会已对象的形式保存到</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Configuration</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>对象中。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>SQL</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>解析与</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>scripting&nbsp;</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>模块：</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Mybatis</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>支持通过配置实现动态的</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>SQL</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>，即根据不同参数生成</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>SQL</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>SQL</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>执行与结果集映射：</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Executor</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>负责维护缓存和事务管理，并将数据库操作委托给</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>StatementHandler,ParmaterHandler</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>负责完成</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>SQL</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>语句的实参绑定并通过</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Statement</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>对象执行</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>SQL</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>，最后通过</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>ResultSet</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>返回结果，交由</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>ResultSetHandler</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>处理映射成</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Java</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>对象。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>插件：支持开发者通过插件接口对</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Mybatis</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>进行扩展。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:1.0cm;text-indent:-1.0cm'><a name="_Toc29693"><span
lang=EN-US style='font-family:宋体'>3.4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:黑体'>支持层</span></a></h2>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>数据源模块：提供数据源实现并能集成第三方数据源模块。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>事务管理模块：可以和</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Spring</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>集成开发，对事物进行管理。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>缓存模块：提供一级缓存和二级缓存，将部分请求拦截在缓存层，分担数据库压力，提高性能。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Binding</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>模块：在调用</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>SqlSession</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>相应方法执行数据库操作时，需要指定映射文件中的</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>SQL</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>节点，</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Mybatis</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>通过</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Binding</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>模块将自定义</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Mapper</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>接口和映射文件关联，避免拼写等错误导致在运行时才被发现。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>反射模块：提供封装的反射</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>API</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>，方便上层调用。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>类型转换：为简化配置文件提供别名机制，并且实现了</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Java</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>类型和</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>JDBC</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>类型的转换。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>日志模块：能够集成多种第三方日志框架。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>资源加载模块：对类加载器进行封装，提供类加载文件和其他资源文件的功能。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>解析器模块：对</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Xpath</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>进行封装，为</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Mabatis</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>初始化时解析配置文件以及映射文件提供支持，对处理动态</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>SQL</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>语句中的占位符提供支持。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<h1 style='margin-left:0cm;text-indent:0cm'><a name="_Toc25260"><span
lang=EN-US style='font-family:"Arial",sans-serif'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体'>运行方式</span></a></h1>

<h2 style='margin-left:1.0cm;text-indent:-1.0cm'><a name="_Toc17098"><span
lang=EN-US style='font-family:宋体'>4.1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:黑体'>执行流程</span></a><span lang=EN-US>-SqlSession&nbsp;</span></h2>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Mybatis</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>执行流程如下图：</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:宋体'><img
width=632 height=618 id="图片 3" src="mybatis.files/image002.gif" alt="IMG_256"></span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>。</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"Arial",sans-serif'>&nbsp;</span></p>

<h2 style='margin-left:1.0cm;text-indent:-1.0cm'><a name="_Toc10589"><span
lang=EN-US style='font-family:宋体'>4.2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:黑体'>映射</span></a><span lang=EN-US>-MapperProxy</span></h2>

<h3 style='margin-left:35.45pt;text-indent:-35.45pt'><a name="_Toc32401"><span
lang=EN-US style='font-family:宋体'>4.2.1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Sql</span></a><span style='font-family:宋体'>映射</span><span
lang=EN-US>-StatementHandler/PrepareStatementHandler</span></h3>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>MyBatis
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>的真正力量在于映射语句。这就是魔法发生的地方。尽管</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
Mapper XML </span><span style='font-size:12.0pt;line-height:150%;font-family:
宋体'>文件功能强大，但它们相对简单。当然，如果将它们与等效的</span><span lang=EN-US style='font-size:12.0pt;
line-height:150%;font-family:"Arial",sans-serif'> JDBC </span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>代码进行比较，您会立即看到代码节省了</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
95%</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>。</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>MyBatis
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>被构建为专注于</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
SQL</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>，并尽最大努力远离你。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Mapper
XML </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>文件只有几个第一类元素（按照它们应该被定义的顺序）：</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>cache&nbsp;–
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>给定命名空间的缓存配置。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>cache-ref&nbsp;–
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>从另一个命名空间引用缓存配置。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>resultMap&nbsp;–
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>描述如何从数据库结果集中加载对象的最复杂和最强大的元素。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>parameterMap&nbsp;–
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>弃用！映射参数的老派方法。首选内联参数，将来可能会删除此元素。此处未记录。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>sql&nbsp;–
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>可以被其他语句引用的可重用</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
SQL </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>块。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>insert&nbsp;–
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>映射的</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
INSERT </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>语句。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>update&nbsp;–
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>映射的</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
UPDATE </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>语句。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>delete&nbsp;–
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>映射的</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
DELETE </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>语句。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>select&nbsp;–
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>映射的</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
SELECT </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>语句</span></p>

<h3 style='margin-left:35.45pt;text-indent:-35.45pt'><a name="_Toc19230"><span
lang=EN-US style='font-family:宋体'>4.2.2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Parameter</span></a><span style='font-family:
宋体'>映射</span><span lang=EN-US>-ParameterHandler</span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='font-size:
12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>在过去的所有语句中，您都看到了简单参数的示例。参数是</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>MyBatis</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>中非常强大的元素。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:35.45pt;text-indent:-35.45pt'><a name="_Toc3116"><span
lang=EN-US style='font-family:宋体'>4.2.3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Result/method</span></a><span style='font-family:
宋体'>映射</span><span lang=EN-US>-ResultHandler&nbsp;</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>resultMap</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>元素有许多子元素和值得讨论的结构。以下是</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>resultMap</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>元素的概念视图。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>结果映射</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>构造函数</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>-</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>用于在实例化时将结果注入类的构造函数</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>idArg-ID</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>参数；将结果标记为</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>ID</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>将有助于提高整体性能</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>arg-</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>注入构造函数的正常结果</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>id</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>–</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>id</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>结果；将结果标记为</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>ID</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>将有助于提高整体性能</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>result</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>–注入字段或</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>JavaBean</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>属性的正常结果</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>关联–复杂类型关联；许多结果将汇总成这种类型</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>嵌套结果映射–关联是</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>resultMaps</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>本身，也可以引用一个</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>collection</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>–复杂类型的集合</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>嵌套结果映射–集合本身就是</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>resultMaps</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>，也可以引用</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>resultMaps</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>discriminator</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>–使用结果值确定要使用的</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>resultMap</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>case</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>–</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>case</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>是基于某个值的结果图</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>嵌套结果映射–</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>case</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>本身也是结果映射，因此可以包含许多相同的元素，也可以引用外部结果映射。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<h2 style='margin-left:1.0cm;text-indent:-1.0cm'><a name="_Toc29524"><span
lang=EN-US style='font-size:14.5pt;line-height:172%;font-family:宋体;color:#333333'>4.3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:黑体'>缓存</span></a><a
href="https://mybatis.org/mybatis-3/sqlmap-xml.html#cache"></a></h2>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>MyBatis
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>包括一个强大的事务查询缓存特性，它是非常可配置和可定制的。</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>MyBatis
3 </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>的缓存实现做了很多改变，使它更强大也更容易配置。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>默认情况下，仅启用本地会话缓存，仅用于在会话期间缓存数据。要启用全局二级缓存，您只需在</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
SQL </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>映射文件中添加一行：</span></p>

<div style='border:solid #888888 1.0pt;padding:1.0pt 1.0pt 1.0pt 1.0pt;
background:whitesmoke'><pre style='margin-bottom:12.0pt;line-height:12.0pt;
background:whitesmoke;word-break:break-all;border:none;padding:0cm'><span
lang=EN-US style='font-size:7.5pt;font-family:Consolas;color:#000088;
background:whitesmoke'>&lt;</span><span lang=EN-US style='font-size:7.5pt;
color:#000088;background:whitesmoke'>cache</span><span lang=EN-US
style='font-size:7.5pt;font-family:Consolas;color:#000088;background:whitesmoke'>/&gt;</span></pre></div>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>字面上就是这样。这一条简单语句的效果如下：</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>映射语句文件中</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
select </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>语句的所有结果都将被缓存。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>映射语句文件中的所有插入、更新和删除语句都会刷新缓存。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>缓存将使用最近最少使用</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
(LRU) </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>算法进行逐出。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>缓存不会根据任何基于时间的计划进行刷新（即无刷新间隔）。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>缓存将存储</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
1024 </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>个对列表或对象的引用（无论查询方法返回什么）。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>缓存将被视为读</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>/</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>写缓存，这意味着检索到的对象不共享，并且可以由调用者安全地修改，而不会干扰其他调用者或线程的其他潜在修改。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>笔记缓存将仅适用于缓存标记所在的映射文件中声明的语句。如果您将</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
Java API </span><span style='font-size:12.0pt;line-height:150%;font-family:
宋体'>与</span><span lang=EN-US style='font-size:12.0pt;line-height:150%;
font-family:"Arial",sans-serif'> XML </span><span style='font-size:12.0pt;
line-height:150%;font-family:宋体'>映射文件结合使用，则默认情况下不会缓存在配套接口中声明的语句。您将需要使用</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
@CacheNamespaceRef </span><span style='font-size:12.0pt;line-height:150%;
font-family:宋体'>注释来引用缓存区域。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>所有这些属性都可以通过缓存元素的属性进行修改。例如：</span></p>

<div style='border:solid #888888 1.0pt;padding:1.0pt 1.0pt 1.0pt 1.0pt;
background:whitesmoke'><pre style='margin-bottom:12.0pt;line-height:12.0pt;
background:whitesmoke;word-break:break-all;border:none;padding:0cm'><span
lang=EN-US style='font-size:7.5pt;font-family:Consolas;color:#000088;
background:whitesmoke'>&lt;cache </span><span lang=EN-US style='font-size:7.5pt;
font-family:Consolas;color:#660066;background:whitesmoke'>eviction </span><span
lang=EN-US style='font-size:7.5pt;font-family:Consolas;color:#666600;
background:whitesmoke'>= </span><span lang=EN-US style='font-size:7.5pt;
font-family:Consolas;color:#008800;background:whitesmoke'>&quot;FIFO&quot; </span><span
lang=EN-US style='font-size:7.5pt;font-family:Consolas;color:#660066;
background:whitesmoke'>flushInterval </span><span lang=EN-US style='font-size:
7.5pt;font-family:Consolas;color:#666600;background:whitesmoke'>= </span><span
lang=EN-US style='font-size:7.5pt;font-family:Consolas;color:#008800;
background:whitesmoke'>&quot;60000&quot; </span><span lang=EN-US
style='font-size:7.5pt;font-family:Consolas;color:#660066;background:whitesmoke'>size </span><span
lang=EN-US style='font-size:7.5pt;font-family:Consolas;color:#666600;
background:whitesmoke'>= </span><span lang=EN-US style='font-size:7.5pt;
font-family:Consolas;color:#008800;background:whitesmoke'>&quot;512&quot; </span><span
lang=EN-US style='font-size:7.5pt;font-family:Consolas;color:#660066;
background:whitesmoke'>readOnly </span><span lang=EN-US style='font-size:7.5pt;
font-family:Consolas;color:#666600;background:whitesmoke'>= </span><span
lang=EN-US style='font-size:7.5pt;font-family:Consolas;color:#008800;
background:whitesmoke'>&quot;true&quot; </span><span lang=EN-US
style='font-size:7.5pt;font-family:Consolas;color:#000088;background:whitesmoke'>/&gt;</span><span
lang=EN-US style='font-size:7.5pt;font-family:Consolas;color:black;background:
whitesmoke'> </span></pre></div>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>这个更高级的配置创建了一个每</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
60 </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>秒刷新一次的</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
FIFO </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>缓存，最多存储</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
512 </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>个对结果对象或列表的引用，并且返回的对象被认为是只读的，因此修改它们可能会导致不同线程中的调用者之间发生冲突。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>可用的可用驱逐政策是：</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>LRU–
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>最近最少使用：删除最长时间未使用的对象。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>FIFO–
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>先进先出：按照对象进入缓存的顺序删除对象。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>SOFT–
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>软引用：根据垃圾收集器状态和软引用规则删除对象。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>WEAK–
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>弱引用：根据垃圾收集器状态和弱引用规则更积极地删除对象。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>默认是</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
LRU</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>flushInterval
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>可以设置为任何正整数，并且应该表示以毫秒为单位指定的合理时间量。未设置默认值，因此不使用刷新间隔，并且仅通过调用语句刷新缓存。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>大小可以设置为任何正整数，请记住缓存对象的大小和环境的可用内存资源。默认值为</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
1024</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>readOnly
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>属性可以设置为</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
true </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>或</span><span
style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'> <span
lang=EN-US>false</span></span><span style='font-size:12.0pt;line-height:150%;
font-family:宋体'>。只读缓存会将缓存对象的相同实例返回给所有调用者。因此不应修改此类对象。不过，这提供了显着的性能优势。读写缓存将返回缓存对象的副本（通过序列化）。这速度较慢，但</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>​​</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>更安全，因此默认值为</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
false</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>笔记二级缓存是事务性的。这意味着当</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
SqlSession </span><span style='font-size:12.0pt;line-height:150%;font-family:
宋体'>完成提交或完成回滚但没有执行插入</span><span lang=EN-US style='font-size:12.0pt;line-height:
150%;font-family:"Arial",sans-serif'>/</span><span style='font-size:12.0pt;
line-height:150%;font-family:宋体'>删除</span><span lang=EN-US style='font-size:
12.0pt;line-height:150%;font-family:"Arial",sans-serif'>/</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>更新时更新</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
flushCache=true </span><span style='font-size:12.0pt;line-height:150%;
font-family:宋体'>。</span></p>

<h3 style='margin-left:35.45pt;text-indent:-35.45pt'><a name="_Toc9111"></a><a
name="Using_a_Custom_Cache"></a><span lang=EN-US style='font-family:宋体'>4.3.1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>使用自定义缓存</span><a
href="https://mybatis.org/mybatis-3/sqlmap-xml.html#using-a-custom-cache"></a></h3>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>除了以这些方式自定义缓存之外，您还可以通过实现自己的缓存或创建其他第</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
3 </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>方缓存解决方案的适配器来完全覆盖缓存行为。</span></p>

<div style='border:solid #888888 1.0pt;padding:2.0pt 2.0pt 2.0pt 2.0pt;
background:whitesmoke'>

<p class=MsoNormal align=left style='margin-bottom:15.0pt;text-align:left;
line-height:15.0pt;background:whitesmoke;word-break:break-all;border:none;
padding:0cm'><span lang=EN-US style='font-size:10.0pt;font-family:Consolas;
color:#000088'>&lt;cache</span><span lang=EN-US style='font-size:10.0pt;
font-family:Consolas;color:black'> </span><span lang=EN-US style='font-size:
10.0pt;font-family:Consolas;color:#660066'>type</span><span lang=EN-US
style='font-size:10.0pt;font-family:Consolas;color:#666600'>=</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#008800'>&quot;com.domain.something.MyCustomCache&quot;</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#000088'>/&gt;</span></p>

</div>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>此示例演示如何使用自定义缓存实现。</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>type
</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>属性中指定的类必须实现</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
org.apache.ibatis.cache.Cache </span><span style='font-size:12.0pt;line-height:
150%;font-family:宋体'>接口并提供一个构造函数，该构造函数获取一个</span><span lang=EN-US
style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
String id </span><span style='font-size:12.0pt;line-height:150%;font-family:
宋体'>作为参数。这个接口是</span><span lang=EN-US style='font-size:12.0pt;line-height:150%;
font-family:"Arial",sans-serif'> MyBatis </span><span style='font-size:12.0pt;
line-height:150%;font-family:宋体'>框架中比较复杂的接口之一，但考虑到它的作用很简单。</span></p>

<div style='border:solid #888888 1.0pt;padding:2.0pt 2.0pt 2.0pt 2.0pt;
background:whitesmoke'>

<p class=MsoNormal align=left style='margin-bottom:15.0pt;text-align:left;
line-height:15.0pt;background:whitesmoke;word-break:break-all;border:none;
padding:0cm'><span lang=EN-US style='font-size:10.0pt;font-family:Consolas;
color:#000088'>public</span><span lang=EN-US style='font-size:10.0pt;
font-family:Consolas;color:black'> </span><span lang=EN-US style='font-size:
10.0pt;font-family:Consolas;color:#000088'>interface</span><span lang=EN-US
style='font-size:10.0pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#660066'>Cache</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#666600'>{</span></p>

<p class=MsoNormal align=left style='margin-bottom:15.0pt;text-align:left;
line-height:15.0pt;background:whitesmoke;word-break:break-all;border:none;
padding:0cm'><span lang=EN-US style='font-size:10.0pt;font-family:Consolas;
color:black'>  </span><span lang=EN-US style='font-size:10.0pt;font-family:
Consolas;color:#660066'>String</span><span lang=EN-US style='font-size:10.0pt;
font-family:Consolas;color:black'> getId</span><span lang=EN-US
style='font-size:10.0pt;font-family:Consolas;color:#666600'>();</span></p>

<p class=MsoNormal align=left style='margin-bottom:15.0pt;text-align:left;
line-height:15.0pt;background:whitesmoke;word-break:break-all;border:none;
padding:0cm'><span lang=EN-US style='font-size:10.0pt;font-family:Consolas;
color:black'>  </span><span lang=EN-US style='font-size:10.0pt;font-family:
Consolas;color:#000088'>int</span><span lang=EN-US style='font-size:10.0pt;
font-family:Consolas;color:black'> getSize</span><span lang=EN-US
style='font-size:10.0pt;font-family:Consolas;color:#666600'>();</span></p>

<p class=MsoNormal align=left style='margin-bottom:15.0pt;text-align:left;
line-height:15.0pt;background:whitesmoke;word-break:break-all;border:none;
padding:0cm'><span lang=EN-US style='font-size:10.0pt;font-family:Consolas;
color:black'>  </span><span lang=EN-US style='font-size:10.0pt;font-family:
Consolas;color:#000088'>void</span><span lang=EN-US style='font-size:10.0pt;
font-family:Consolas;color:black'> putObject</span><span lang=EN-US
style='font-size:10.0pt;font-family:Consolas;color:#666600'>(</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#660066'>Object</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:black'> key</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#666600'>,</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#660066'>Object</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:black'> value</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#666600'>);</span></p>

<p class=MsoNormal align=left style='margin-bottom:15.0pt;text-align:left;
line-height:15.0pt;background:whitesmoke;word-break:break-all;border:none;
padding:0cm'><span lang=EN-US style='font-size:10.0pt;font-family:Consolas;
color:black'>  </span><span lang=EN-US style='font-size:10.0pt;font-family:
Consolas;color:#660066'>Object</span><span lang=EN-US style='font-size:10.0pt;
font-family:Consolas;color:black'> getObject</span><span lang=EN-US
style='font-size:10.0pt;font-family:Consolas;color:#666600'>(</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#660066'>Object</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:black'> key</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#666600'>);</span></p>

<p class=MsoNormal align=left style='margin-bottom:15.0pt;text-align:left;
line-height:15.0pt;background:whitesmoke;word-break:break-all;border:none;
padding:0cm'><span lang=EN-US style='font-size:10.0pt;font-family:Consolas;
color:black'>  </span><span lang=EN-US style='font-size:10.0pt;font-family:
Consolas;color:#000088'>boolean</span><span lang=EN-US style='font-size:10.0pt;
font-family:Consolas;color:black'> hasKey</span><span lang=EN-US
style='font-size:10.0pt;font-family:Consolas;color:#666600'>(</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#660066'>Object</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:black'> key</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#666600'>);</span></p>

<p class=MsoNormal align=left style='margin-bottom:15.0pt;text-align:left;
line-height:15.0pt;background:whitesmoke;word-break:break-all;border:none;
padding:0cm'><span lang=EN-US style='font-size:10.0pt;font-family:Consolas;
color:black'>  </span><span lang=EN-US style='font-size:10.0pt;font-family:
Consolas;color:#660066'>Object</span><span lang=EN-US style='font-size:10.0pt;
font-family:Consolas;color:black'> removeObject</span><span lang=EN-US
style='font-size:10.0pt;font-family:Consolas;color:#666600'>(</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#660066'>Object</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:black'> key</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#666600'>);</span></p>

<p class=MsoNormal align=left style='margin-bottom:15.0pt;text-align:left;
line-height:15.0pt;background:whitesmoke;word-break:break-all;border:none;
padding:0cm'><span lang=EN-US style='font-size:10.0pt;font-family:Consolas;
color:black'>  </span><span lang=EN-US style='font-size:10.0pt;font-family:
Consolas;color:#000088'>void</span><span lang=EN-US style='font-size:10.0pt;
font-family:Consolas;color:black'> clear</span><span lang=EN-US
style='font-size:10.0pt;font-family:Consolas;color:#666600'>();</span></p>

<p class=MsoNormal align=left style='margin-bottom:15.0pt;text-align:left;
line-height:15.0pt;background:whitesmoke;word-break:break-all;border:none;
padding:0cm'><span lang=EN-US style='font-size:10.0pt;font-family:Consolas;
color:#666600'>}</span></p>

</div>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>要配置您的缓存，只需将公共</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
JavaBeans </span><span style='font-size:12.0pt;line-height:150%;font-family:
宋体'>属性添加到您的</span><span lang=EN-US style='font-size:12.0pt;line-height:150%;
font-family:"Arial",sans-serif'> Cache </span><span style='font-size:12.0pt;
line-height:150%;font-family:宋体'>实现，并通过缓存元素传递属性，例如，以下将调用</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;setCacheFile(String
file)</span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>在您的</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
Cache </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>实现上调用的方法：</span></p>

<div style='border:solid #888888 1.0pt;padding:2.0pt 2.0pt 2.0pt 2.0pt;
background:whitesmoke'>

<p class=MsoNormal align=left style='margin-bottom:15.0pt;text-align:left;
line-height:15.0pt;background:whitesmoke;word-break:break-all;border:none;
padding:0cm'><span lang=EN-US style='font-size:10.0pt;font-family:Consolas;
color:#000088'>&lt;cache</span><span lang=EN-US style='font-size:10.0pt;
font-family:Consolas;color:black'> </span><span lang=EN-US style='font-size:
10.0pt;font-family:Consolas;color:#660066'>type</span><span lang=EN-US
style='font-size:10.0pt;font-family:Consolas;color:#666600'>=</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#008800'>&quot;com.domain.something.MyCustomCache&quot;</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#000088'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-bottom:15.0pt;text-align:left;
line-height:15.0pt;background:whitesmoke;word-break:break-all;border:none;
padding:0cm'><span lang=EN-US style='font-size:10.0pt;font-family:Consolas;
color:black'>  </span><span lang=EN-US style='font-size:10.0pt;font-family:
Consolas;color:#000088'>&lt;property</span><span lang=EN-US style='font-size:
10.0pt;font-family:Consolas;color:black'> </span><span lang=EN-US
style='font-size:10.0pt;font-family:Consolas;color:#660066'>name</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#666600'>=</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#008800'>&quot;cacheFile&quot;</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#660066'>value</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#666600'>=</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#008800'>&quot;/tmp/my-custom-cache.tmp&quot;</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#000088'>/&gt;</span></p>

<p class=MsoNormal align=left style='margin-bottom:15.0pt;text-align:left;
line-height:15.0pt;background:whitesmoke;word-break:break-all;border:none;
padding:0cm'><span lang=EN-US style='font-size:10.0pt;font-family:Consolas;
color:#000088'>&lt;/cache&gt;</span></p>

</div>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>您可以使用所有简单类型的</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
JavaBeans </span><span style='font-size:12.0pt;line-height:150%;font-family:
宋体'>属性，</span><span lang=EN-US style='font-size:12.0pt;line-height:150%;
font-family:"Arial",sans-serif'>MyBatis </span><span style='font-size:12.0pt;
line-height:150%;font-family:宋体'>将进行转换。您可以指定一个占位符（例如</span><span lang=EN-US
style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>${cache.file}</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>）来替换在</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'><a
href="https://mybatis.org/mybatis-3/configuration.html#properties"><span
lang=EN-US style='font-family:宋体;color:windowtext;text-decoration:none'><span
lang=EN-US>配置属性</span></span></a></span><span style='font-size:12.0pt;
line-height:150%;font-family:宋体'>中定义的值。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>从</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
3.4.2 </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>开始，支持</span><span
style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'> <span
lang=EN-US>MyBatis </span></span><span style='font-size:12.0pt;line-height:
150%;font-family:宋体'>在设置所有属性后调用初始化方法。如果您想使用此功能，请</span><span lang=EN-US
style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>org.apache.ibatis.builder.InitializingObject&nbsp;</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>在您的自定义缓存类上实现该接口。</span></p>

<div style='border:solid #888888 1.0pt;padding:2.0pt 2.0pt 2.0pt 2.0pt;
background:whitesmoke'>

<p class=MsoNormal align=left style='margin-bottom:15.0pt;text-align:left;
line-height:15.0pt;background:whitesmoke;word-break:break-all;border:none;
padding:0cm'><span lang=EN-US style='font-size:10.0pt;font-family:Consolas;
color:#000088'>public</span><span lang=EN-US style='font-size:10.0pt;
font-family:Consolas;color:black'> </span><span lang=EN-US style='font-size:
10.0pt;font-family:Consolas;color:#000088'>interface</span><span lang=EN-US
style='font-size:10.0pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#660066'>InitializingObject</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#666600'>{</span></p>

<p class=MsoNormal align=left style='margin-bottom:15.0pt;text-align:left;
line-height:15.0pt;background:whitesmoke;word-break:break-all;border:none;
padding:0cm'><span lang=EN-US style='font-size:10.0pt;font-family:Consolas;
color:black'>  </span><span lang=EN-US style='font-size:10.0pt;font-family:
Consolas;color:#000088'>void</span><span lang=EN-US style='font-size:10.0pt;
font-family:Consolas;color:black'> initialize</span><span lang=EN-US
style='font-size:10.0pt;font-family:Consolas;color:#666600'>()</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#000088'>throws</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#660066'>Exception</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#666600'>;</span></p>

<p class=MsoNormal align=left style='margin-bottom:15.0pt;text-align:left;
line-height:15.0pt;background:whitesmoke;word-break:break-all;border:none;
padding:0cm'><span lang=EN-US style='font-size:10.0pt;font-family:Consolas;
color:#666600'>}</span><span lang=EN-US style='font-size:7.5pt;font-family:
Consolas;color:black;background:whitesmoke'>  </span></p>

</div>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>笔记</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>使用自定义缓存时，不应用上一节中的缓存设置（如逐出策略、读写等）。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>重要的是要记住缓存配置和缓存实例绑定到</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
SQL </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>映射文件的命名空间。因此，与缓存相同的名称空间中的所有语句都受其约束。语句可以修改它们与缓存交互的方式，或者通过在逐个语句的基础上使用两个简单的属性来完全排除它们自己。默认情况下，语句配置如下：</span></p>

<div style='border:solid #888888 1.0pt;padding:2.0pt 2.0pt 2.0pt 2.0pt;
background:whitesmoke'>

<p class=MsoNormal align=left style='margin-bottom:15.0pt;text-align:left;
line-height:15.0pt;background:whitesmoke;word-break:break-all;border:none;
padding:0cm'><span lang=EN-US style='font-size:10.0pt;font-family:Consolas;
color:#000088'>&lt;select</span><span lang=EN-US style='font-size:10.0pt;
font-family:Consolas;color:black'> ... </span><span lang=EN-US
style='font-size:10.0pt;font-family:Consolas;color:#660066'>flushCache</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#666600'>=</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#008800'>&quot;false&quot;</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#660066'>useCache</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#666600'>=</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#008800'>&quot;true&quot;</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#000088'>/&gt;</span></p>

<p class=MsoNormal align=left style='margin-bottom:15.0pt;text-align:left;
line-height:15.0pt;background:whitesmoke;word-break:break-all;border:none;
padding:0cm'><span lang=EN-US style='font-size:10.0pt;font-family:Consolas;
color:#000088'>&lt;insert</span><span lang=EN-US style='font-size:10.0pt;
font-family:Consolas;color:black'> ... </span><span lang=EN-US
style='font-size:10.0pt;font-family:Consolas;color:#660066'>flushCache</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#666600'>=</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#008800'>&quot;true&quot;</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#000088'>/&gt;</span></p>

<p class=MsoNormal align=left style='margin-bottom:15.0pt;text-align:left;
line-height:15.0pt;background:whitesmoke;word-break:break-all;border:none;
padding:0cm'><span lang=EN-US style='font-size:10.0pt;font-family:Consolas;
color:#000088'>&lt;update</span><span lang=EN-US style='font-size:10.0pt;
font-family:Consolas;color:black'> ... </span><span lang=EN-US
style='font-size:10.0pt;font-family:Consolas;color:#660066'>flushCache</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#666600'>=</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#008800'>&quot;true&quot;</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#000088'>/&gt;</span></p>

<p class=MsoNormal align=left style='margin-bottom:15.0pt;text-align:left;
line-height:15.0pt;background:whitesmoke;word-break:break-all;border:none;
padding:0cm'><span lang=EN-US style='font-size:10.0pt;font-family:Consolas;
color:#000088'>&lt;delete</span><span lang=EN-US style='font-size:10.0pt;
font-family:Consolas;color:black'> ... </span><span lang=EN-US
style='font-size:10.0pt;font-family:Consolas;color:#660066'>flushCache</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#666600'>=</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#008800'>&quot;true&quot;</span><span
lang=EN-US style='font-size:10.0pt;font-family:Consolas;color:#000088'>/&gt;</span></p>

</div>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>由于这是默认设置，您显然不应该以这种方式显式配置语句。相反，只有在您想要更改默认行为时才设置</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
flushCache </span><span style='font-size:12.0pt;line-height:150%;font-family:
宋体'>和</span><span lang=EN-US style='font-size:12.0pt;line-height:150%;
font-family:"Arial",sans-serif'> useCache </span><span style='font-size:12.0pt;
line-height:150%;font-family:宋体'>属性。例如，在某些情况下，您可能希望从缓存中排除特定</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
select </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>语句的结果，或者您可能希望</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
select </span><span style='font-size:12.0pt;line-height:150%;font-family:宋体'>语句刷新缓存。同样，您可能有一些更新语句在执行时不需要刷新缓存。</span></p>

<h3 style='margin-left:35.45pt;text-indent:-35.45pt'><a name="_Toc29580"></a><a
name=cache-ref></a><span lang=EN-US style='font-family:宋体'>4.3.2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>缓存引用</span><a
href="https://mybatis.org/mybatis-3/sqlmap-xml.html#cache-ref"></a></h3>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>回想一下上一节，对于同一命名空间内的语句，只会使用或刷新此特定命名空间的缓存。有时您可能希望在命名空间之间共享相同的缓存配置和实例。在这种情况下，您可以使用</span><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>
cache-ref </span><span style='font-size:12.0pt;line-height:150%;font-family:
宋体'>元素引用另一个缓存。</span></p>

<div style='border:solid #888888 1.0pt;padding:1.0pt 1.0pt 1.0pt 1.0pt;
background:whitesmoke'><pre style='margin-bottom:12.0pt;line-height:12.0pt;
background:whitesmoke;word-break:break-all;border:none;padding:0cm'><span
lang=EN-US style='font-size:7.5pt;font-family:Consolas;color:#000088;
background:whitesmoke'>&lt;cache-ref </span><span lang=EN-US style='font-size:
7.5pt;font-family:Consolas;color:#660066;background:whitesmoke'>namespace </span><span
lang=EN-US style='font-size:7.5pt;font-family:Consolas;color:#666600;
background:whitesmoke'>= </span><span lang=EN-US style='font-size:7.5pt;
font-family:Consolas;color:#008800;background:whitesmoke'>&quot;com.someone.application.data.SomeMapper&quot; </span><span
lang=EN-US style='font-size:7.5pt;font-family:Consolas;color:#000088;
background:whitesmoke'>/&gt;</span><span lang=EN-US style='font-size:7.5pt;
font-family:Consolas;color:black;background:whitesmoke'> </span></pre></div>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<h1 style='margin-left:0cm;text-indent:0cm'><a name="_Toc9177"></a><a
name="_Toc27558"><span lang=EN-US style='font-family:"Arial",sans-serif'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-family:宋体'>参考文献</span></a></h1>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Mybatis</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>发展历史</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US><a href="https://blog.mybatis.org/p/about.html"><span
style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif;
color:windowtext;text-decoration:none'>https://blog.mybatis.org/p/about.html</span></a></span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>ORM</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>思想</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>https://blog.csdn.net/weixin_66107760/article/details/127891160</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>。</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Mybatis</span><span
style='font-size:12.0pt;line-height:150%;font-family:宋体'>基本原理</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'><a
href="https://segmentfault.com/a/1190000041688841"><span style='color:windowtext;
text-decoration:none'>https://segmentfault.com/a/1190000041688841</span></a></span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>Mybatis
sqlsession</span><span style='font-size:12.0pt;line-height:150%;font-family:
宋体'>流程</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>https://blog.csdn.net/javalingyu/article/details/124504454</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:24.0pt;line-height:150%'><span
lang=EN-US style='font-size:12.0pt;line-height:150%;font-family:"Arial",sans-serif'>&nbsp;</span></p>

</div>

</body>

</html>
